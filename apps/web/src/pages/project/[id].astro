---
import ProjectEditor from "../../islands/ProjectEditor.svelte";
import Viewer3DLazy from "../../islands/Viewer3DLazy.svelte";

const { id } = Astro.params;
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Project {id}</title>
  </head>
  <body>
    <main class="layout">
      <section class="left">
        <ProjectEditor client:load projectId={id} />
      </section>
      <section class="right">
        <Viewer3DLazy client:idle />
      </section>
    </main>
  </body>
</html>

<style>
  .layout {
    display: grid;
    grid-template-columns: minmax(280px, 360px) 1fr;
    gap: 1.5rem;
    padding: 1.5rem;
    background: linear-gradient(135deg, #fef3c7 0%, #fdf2f8 100%);
    min-height: 100vh;
  }
  .left,
  .right {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  @media (max-width: 900px) {
    .layout {
      grid-template-columns: 1fr;
    }
  }
</style>
